class Solution:
    SOL = (
        15, -1, -1, 3, 15, -1, -1, 15, 3, -1, -1, 17, 17, -1, -1, 15, 13, -1, -1, 17, 13, -1, -1, 7, -1, 19, 15, -1, -1, 13, 3, -1, -1, 11, 11, -1, -1, 9, 15, -1,
        -1, 15, 9, -1, -1, 15, 17, -1, 15, -1, -1, 11, 19, -1, -1, 13, 17, -1, -1, 19, 13, -1, -1, 15, 13, -1, -1, 7, 9, -1, -1, 11, -1, 9, 13, -1, -1, 9, 17, -1,
        -1, 15, 7, -1, -1, 17, 7, -1, -1, 11, 19, -1, -1, 11, 11, -1, 17, -1, -1, 13, 11, -1, -1, 5, 13, -1, -1, 15, 11, -1, -1, 15, 17, -1, -1, 11, 11, -1, -1, 15,
        14, -1, -1, 2, 14, -1, -1, 14, 2, -1, -1, 16, 16, -1, -1, 14, 12, -1, -1, 16, 12, -1, -1, 6, 13, -1, -1, 1, 13, -1, 2, -1, 1, 0, -1, -1, -1, 10, -1, -1,
        11, 12, 10, -1, 11, 12, -1, -1, -1, 15, 3, -1, -1, 17, -1, 14, -1, -1, 15, 16, 14, -1, 15, 16, -1, -1, -1, 6, -1, -1, 5, 4, 17, -1, -1, 15, 13, -1, 16, -1,
        15, 16, -1, -1, -1, 16, -1, -1, 15, 14, 18, -1, 17, 18, -1, -1, -1, 15, 13, -1, -1, 5, -1, 4, -1, -1, 3, 4, 12, -1, 13, 14, -1, -1, -1, 12, -1, -1, 13, 14,
        -1, 18, 16, -1, -1, 12, 4, -1, -1, 12, 12, -1, -1, 8, 16, -1, -1, 14, 8, -1, -1, 14, 16, -1, -1, 19, 17, -1, -1, 13, -1, 14, -1, -1, 13, 14, 18, -1, 17, 18,
        -1, -1, -1, 18, -1, -1, 17, 18, 5, -1, -1, 13, 13, -1, 16, -1, 15, 14, -1, -1, -1, 16, -1, -1, 15, 14, 8, -1, 7, 6, -1, -1, -1, 7, 15, -1, -1, 13, -1, 10,
        -1, -1, 11, 12, 6, -1, 5, 6, -1, -1, -1, 12, -1, -1, 13, 14, 9, -1, -1, 15, 15, -1, 18, -1, 17, 16, -1, -1, -1, 14, -1, -1, 13, 14, 10, -1, 9, 10, -1, -1,
        14, -1, -1, 12, 18, -1, -1, 12, 16, -1, -1, 18, 12, -1, -1, 14, 14, -1, -1, 8, 10, -1, -1, 12, 13, -1, -1, 13, 17, -1, 16, -1, 15, 14, -1, -1, -1, 16, -1, -1,
        15, 16, 12, -1, 11, 12, -1, -1, -1, 13, 15, -1, -1, 19, -1, 20, -1, -1, 19, 20, 14, -1, 13, 14, -1, -1, -1, 14, -1, -1, 13, 14, 11, -1, -1, 15, 15, -1, 14, -1,
        15, 16, -1, -1, -1, 16, -1, -1, 17, 16, 10, -1, 9, 10, -1, -1, -1, 9, 11, -1, -1, 13, -1, 14, -1, -1, 13, 14, 12, -1, 11, 10, -1, -1, -1, 14, -1, -1, 13, 12,
        -1, 8, 12, -1, -1, 8, 18, -1, -1, 14, 6, -1, -1, 18, 6, -1, -1, 10, 20, -1, -1, 10, 10, -1, -1, 7, 11, -1, -1, 7, -1, 4, -1, -1, 5, 6, 4, -1, 5, 6,
        -1, -1, -1, 8, -1, -1, 9, 10, 19, -1, -1, 15, 7, -1, 14, -1, 13, 14, -1, -1, -1, 10, -1, -1, 9, 8, 18, -1, 19, 20, -1, -1, -1, 19, 7, -1, -1, 11, -1, 10,
        -1, -1, 9, 10, 18, -1, 19, 20, -1, -1, -1, 10, -1, -1, 9, 8, 21, -1, -1, 11, 11, -1, 10, -1, 9, 10, -1, -1, -1, 14, -1, -1, 13, 12, 18, -1, 19, 20, -1, -1,
        16, -1, -1, 12, 12, -1, -1, 6, 14, -1, -1, 16, 10, -1, -1, 14, 16, -1, -1, 10, 12, -1, -1, 14, 15, -1, -1, 13, 13, -1, 16, -1, 15, 14, -1, -1, -1, 16, -1, -1,
        15, 14, 14, -1, 13, 14, -1, -1, -1, 7, 15, -1, -1, 15, -1, 14, -1, -1, 13, 14, 10, -1, 9, 8, -1, -1, -1, 16, -1, -1, 15, 16, 11, -1, -1, 15, 17, -1, 18, -1,
        17, 16, -1, -1, -1, 18, -1, -1, 17, 18, 12, -1, 11, 12, -1, -1, -1, 9, 13, -1, -1, 13, -1, 10, -1, -1, 11, 12, 8, -1, 7, 8, -1, -1, -1, 12, -1, -1, 13, 14
    )

    @staticmethod
    def getPermIdx(config: tuple[int, ...]) -> int:
        res = 0
        accum = 1
        for i in range(4, -1, -1):
            res += accum * sum(x < config[i] for x in config[(i + 1):])
            accum *= 6 - i
        return res

    def slidingPuzzle(self, board: List[List[int]]) -> int:
        return Solution.SOL[self.getPermIdx(tuple(x for r in board for x in r))]
